webpackJsonp([1,0],[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=o(14),i=n(a),r=o(12),d=n(r),c=o(76),s=n(c);o(55);var l=o(13),u=n(l),m=o(15),f=n(m),v=o(11),_=n(v);o(46),o(45);var p=o(5),h=n(p),g=o(34),b=n(g);window.querystring=_.default,window.axios=f.default,i.default.prototype.$http=window.axios,window.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"},h.default.loggedIn()&&(window.axios.defaults.headers.common={Authorization:h.default.getAuthHeader()}),i.default.use(s.default),i.default.use(u.default),i.default.material.registerTheme("custon",{primary:{color:"red",hue:"A200"},accent:{color:"blue",hue:"300"}}),i.default.material.setCurrentTheme("custon"),new i.default({el:"#app",template:"<App/>",components:{App:d.default},router:b.default})},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={STORAGE_TOKEN_KEY:"token",OAUTH_CLIENT_ID:1,OAUTH_REDIRECT_URI:"http://localhost:8090/login",OAUTH_SERVER_URL:"http://todosbackend.pdavila.2dam.acacha.org/oauth/authorize?",API_TASK_URL:"http://todosbackend.pdavila.2dam.acacha.org/api/v1/task",API_PROFILE_URL:"http://todosbackend.pdavila.2dam.acacha.org/api/v1/user"};t.default=o},,function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o){setTimeout(function(){o("joe@example.com"===e&&"password1"===t?{authenticated:!0,token:Math.random().toString(36).substring(7)}:{authenticated:!1})},0)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),r=n(i);t.default={login:function(e,t,o){var n=this;return o=arguments[arguments.length-1],window.localStorage.token?(o&&o(!0),void this.onChange(!0)):void a(e,t,function(e){e.authenticated?(window.localStorage.token=e.token,o&&o(!0),n.onChange(!0)):(o&&o(!1),n.onChange(!1))})},getToken:function(){return window.localStorage.getItem(r.default.STORAGE_TOKEN_KEY)},saveToken:function(e){window.localStorage.setItem(r.default.STORAGE_TOKEN_KEY,e)},logout:function(e){delete window.localStorage.token,e&&e(),this.onChange(!1)},loggedIn:function(){return!!window.localStorage.getItem(r.default.STORAGE_TOKEN_KEY)},getAuthHeader:function(){return"Bearer "+this.getToken()},onChange:function(){}}},,,,,,,function(e,t,o){o(47);var n=o(2)(o(36),o(68),null,null);e.exports=n.exports},,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=n(a),r=o(12),d=n(r);t.default={enable:function(){console.log("Enabling notifications"),this.initPushNotifications(),this.registerPushNotifications(),this.processPushNotifications()},initPushNotifications:function(){d.default.push=window.PushNotification.init({android:{senderID:i.default.ANDROID_SENDER_ID},ios:{sound:!0,vibration:!0,badge:!0},windows:{}})},registerPushNotifications:function(){d.default.push.on("registration",function(e){console.log("registration event: "+e.registrationId);var t=window.localStorage.getItem("registrationId");t!==e.registrationId&&window.localStorage.setItem("registrationId",e.registrationId)})},processPushNotifications:function(){d.default.push.on("error",function(e){console.log("push error = "+e.message)}),d.default.push.on("notification",function(e){console.log("Notification event RECEIVED!!!!!!!!!!!!"),console.log("Title: "+e.title),console.log("Message: "+e.message),console.log("Foreground: "+e.additionalData.foreground)})}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(13),i=n(a),r=o(35),d=n(r),c=o(5),s=n(c),l=new i.default({mode:"history",routes:d.default});l.beforeEach(function(e,t,o){return e.meta.auth&&!s.default.loggedIn()?o("/login"):void o()}),t.default=l},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(66),i=n(a),r=o(67),d=n(r),c=o(65),s=n(c),l=o(63),u=n(l),m=o(62),f=n(m),v=o(64),_=n(v),p=o(61),h=n(p),g=[{path:"/",component:i.default,meta:{auth:!0}},{path:"/todos",component:i.default,meta:{auth:!0}},{path:"/tokens",component:d.default,meta:{auth:!1}},{path:"/profile",component:s.default,meta:{auth:!0}},{path:"/login",component:u.default,meta:{auth:!1}},{path:"/device",component:f.default,meta:{auth:!0}},{path:"/cordova",component:h.default,meta:{auth:!0}},{path:"*",component:_.default,meta:{auth:!1}}];t.default=g},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(33),i=n(a);t.default={name:"app",created:function(){console.log(window.location.href),document.addEventListener("devicesready",this.onDeviceReady,!1)},methods:{onDeviceReady:function(){console.log("Working on platform: "+window.device.platform),i.default.enable()},toggleLeftSidenav:function(){this.$refs.leftSidenav.toggle()},open:function(e){console.log("Opened: "+e)},close:function(e){console.log("Closed: "+e)},created:function(){console.log(window.location.href)}},initialize:function(){console.log("initialize"),this.bindEvents()},bindEvents:function(){document.addEventListener("deviceReady",this.onDeviceReady,!1)},onDeviceReady:function(){this.logDeviceInfo()},logDeviceInfo:function(){console.log("device")}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},beforedDestroy:function(){document.removeEventListener("deviceready",this.onBeforeDestroy,!1)},methods:{onDeviceReady:function(){console.log("Device ready")},onBeforeDestroy:function(){console.log("Device before destroy")}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{cordova:"",model:"",platform:"",uuid:"",version:"",manufacturer:"",isVirtual:"",serial:""}},created:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},beforeDestroy:function(){document.removeEventListener("deviceready",this.onBeforeDestroy,!1)},methods:{onDeviceReady:function(){console.log("onDeviceReady"),console.log(window.cordova),console.log(window.cordova.device),console.log(window.device),this.cordova=window.cordova.device.cordova,this.model=window.cordova.device.model,this.platform=window.device.platform,this.uuid=window.device.uuid,this.version=window.device.version,this.manufacturer=window.device.manufacturer,this.isVirtual=window.device.isVirtual,this.serial=window.device.serial},onBeforeDestroy:function(){console.log("Device onBeforeDestroy!")}}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=n(a),r=o(5),d=n(r);t.default={data:function(){return{authorized:!1}},created:function(){if(document.location.hash)var e=this.extractToken(document.location.hash);e&&d.default.saveToken(e),null==this.token&&(this.token=d.default.getToken()),this.token?(this.authorized=!0,this.$http.defaults.headers.common.Authorization=d.default.getAuthHeader()):(this.authorized=!1,this.$http.defaults.headers.common.Authorization="")},methods:{extractToken:function(e){return e.match(/#(?:access_token)=([\S\s]*?)&/)[1]},login:function e(){t={client_id:i.default.OAUTH_CLIENT_ID,redirect_uri:i.default.OAUTH_REDIRECT_URI,response_type:"token",scope:""};var t=window.querystring.stringify(t);if(window.cordova&&"browser"!==window.device.platform){var o=window.cordova.InAppBrowser.open(i.default.OAUTH_SERVER_URL+t,"_blank","location=yes"),e=this;o.addEventListener("loadstart",function(t){var n=t.url,a=n.split("#")[1],i=e.extractToken("#"+String(a));i&&(d.default.saveToken(i),e.authorized=!0,o.close())})}else window.location.replace(i.default.OAUTH_SERVER_URL+t)},initLogout:function(){this.openDialog("sureToLogout")},logout:function(){window.localStorage.removeItem(i.default.STORAGE_TOKEN_KEY),this.authorized=!1},openDialog:function(e){this.$refs[e].open()},onCloseSureToLogout:function(e){"ok"===e&&this.logout()}}}},function(e,t){"use strict"},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=n(a),r=o(56),d=n(r);t.default={data:function(){return{avatar:"",id:null,name:null,email:null,createAt:null,updateAt:null,connecting:!0}},create:function(){this.fetchUserProfile()},methods:{avatarUrl:function(){return d.default.url(this.email)},fetchUserProfile:function(){var e=this;this.$http.get(i.default.API_PROFILE_URL).then(function(t){e.connecting=!1,e.id=t.data.id,e.name=t.data.name,e.email=t.data.email,e.createAt=t.data.create_at,e.updateAt=t.data.update_at,e.avatar=e.avatarUrl()},function(t){e.connecting=!1,e.showConnectionError()})},showConnectionError:function(){this.$refs.connectionError.open()}}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),i=n(a);t.default={data:function(){return{todos:[],connecting:!1,total:0,perPage:0,page:0}},created:function(){var e=this;setTimeout(function(){e.fetchData()},500)},methods:{fetchData:function(){return this.fetchPage(1)},fetchPage:function(e){var t=this;this.$http.get(i.default.API_TASK_URL+"?page="+e).then(function(e){t.connecting=!1,t.todos=e.data.data,t.total=e.data.total,t.perPage=e.data.per_page,t.page=e.data.current_page},function(e){t.connecting=!1,t.showConnectionError()})},showConnectionError:function(){this.$refs.connectionError.open()},onPagination:function(){console.log("pagination todo!")}}}},function(e,t){"use strict"},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t,o){o(52);var n=o(2)(o(37),o(73),null,null);e.exports=n.exports},function(e,t,o){o(51);var n=o(2)(o(38),o(72),null,null);e.exports=n.exports},function(e,t,o){o(54);var n=o(2)(o(39),o(75),null,null);e.exports=n.exports},function(e,t,o){o(50);var n=o(2)(o(40),o(71),null,null);e.exports=n.exports},function(e,t,o){o(48);var n=o(2)(o(41),o(69),null,null);e.exports=n.exports},function(e,t,o){o(53);var n=o(2)(o(42),o(74),null,null);e.exports=n.exports},function(e,t,o){o(49);var n=o(2)(o(43),o(70),null,null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"phone-viewport"},[o("md-toolbar",[o("md-button",{staticClass:"md-icon-button",on:{click:e.toggleLeftSidenav}},[o("md-icon",[e._v("menu")])],1),e._v(" "),o("h2",{staticClass:"md-title"},[e._v("Todos")])],1),e._v(" "),o("md-sidenav",{ref:"leftSidenav",staticClass:"md-left",on:{open:function(t){e.open("Left")},close:function(t){e.close("Left")}}},[o("md-toolbar",{staticClass:"md-large"},[o("div",{staticClass:"md-toolbar-container"},[o("h3",{staticClass:"md-title"},[e._v("Todos")])])]),e._v(" "),o("md-list",[o("md-list-item",{on:{click:e.toggleLeftSidenav}},[o("md-icon",[e._v("exit_to_app")]),e._v(" "),o("router-link",{attrs:{exact:"",to:"login"}},[e._v("Login/Logout")])],1),e._v(" "),o("md-list-item",{on:{click:e.toggleLeftSidenav}},[o("md-icon",[e._v("face")]),e._v(" "),o("router-link",{attrs:{exact:"",to:"profile"}},[e._v("Profile")])],1),e._v(" "),o("md-list-item",{on:{click:e.toggleLeftSidenav}},[o("md-icon",[e._v("move_to_inbox")]),e._v(" "),o("router-link",{attrs:{exact:"",to:"todos"}},[e._v("Todos")])],1),e._v(" "),o("md-list-item",{on:{click:e.toggleLeftSidenav}},[o("md-icon",[e._v("https")]),e._v(" "),o("router-link",{attrs:{exact:"",to:"tokens"}},[e._v("Tokens")]),e._v(" "),o("md-divider",{staticClass:"md-inset"})],1),e._v(" "),o("md-list-item",{on:{click:e.toggleLeftSidenav}},[o("md-icon",[e._v("info")]),e._v(" "),o("router-link",{attrs:{exact:"",to:"/device"}},[e._v("Device Info")])],1),e._v(" "),o("md-list-item",{on:{click:e.toggleLeftSidenav}},[o("md-avatar",[o("img",{attrs:{src:"https://placeimg.com/40/40/people/5",alt:"People"}})]),e._v(" "),o("span",[e._v("Abbey Christansen")]),e._v(" "),o("md-button",{staticClass:"md-icon-button md-list-action"},[o("md-icon",{staticClass:"md-primary"},[e._v("chat_bubble")])],1)],1)],1)],1),e._v(" "),o("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("md-card",{attrs:{"md-with-hover":""}},[o("md-card-header",[o("md-avatar",[o("img",{attrs:{src:e.avatar,alt:"People"}})]),e._v(" "),o("div",{staticClass:"md-title"},[e._v(e._s(e.id)+e._s(e.name))]),e._v(" "),o("div",{staticClass:"md-subhead"},[e._v(e._s(e.email))])],1),e._v(" "),o("md-card-content",[o("md-spinner",{directives:[{name:"show",rawName:"v-show",value:e.connecting,expression:"connecting"}],staticClass:"md-accent",attrs:{"md-size":20,"md-indeterminate":""}}),e._v(" "),o("form",{attrs:{novalidate:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[o("md-input-container",{attrs:{"md-inline":""}},[o("label",[e._v("Name")]),e._v(" "),o("md-input",{attrs:{placeholder:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),o("md-input-container",{attrs:{"md-inline":""}},[o("label",[e._v("Email")]),e._v(" "),o("md-input",{attrs:{placeholder:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("Create at")]),e._v(" "),o("md-input",{attrs:{placeholder:"Create_at"},model:{value:e.createAt,callback:function(t){e.createAt=t},expression:"createAt"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("Update at")]),e._v(" "),o("md-input",{attrs:{placeholder:"Update_at"},model:{value:e.updateAt,callback:function(t){e.updateAt=t},expression:"updateAt"}})],1)],1)],1),e._v(" "),o("md-card-actions",[o("md-button",[e._v("Edit")]),e._v(" "),o("md-button",[e._v("Delete")])],1),e._v(" "),o("md-snackbar",{ref:"connectionError",attrs:{"md-position":"bottom center","md-duration":"4000"}},[o("span",[e._v("Connection error. Please reconnect using connect button!.")])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v("\n    TOKENS HERE\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h1",[e._v("ROUTE NOT FOUND")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("form",{attrs:{novalidate:""}},[o("md-input-container",[o("label",[e._v("Cordova")]),e._v(" "),o("md-input",{model:{value:e.cordova,callback:function(t){e.cordova=t},expression:"cordova"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("Model")]),e._v(" "),o("md-input",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("Platform")]),e._v(" "),o("md-input",{model:{value:e.platform,callback:function(t){e.platform=t},expression:"platform"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("Uuid")]),e._v(" "),o("md-input",{model:{value:e.uuid,callback:function(t){e.uuid=t},expression:"uuid"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("Version")]),e._v(" "),o("md-input",{model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("isVirtual")]),e._v(" "),o("md-input",{model:{value:e.isVirtual,callback:function(t){e.isVirtual=t},expression:"isVirtual"}})],1),e._v(" "),o("md-input-container",[o("label",[e._v("serial")]),e._v(" "),o("md-input",{model:{value:e.serial,callback:function(t){e.serial=t},expression:"serial"}})],1)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v("\n    CORDOVA Template\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("md-table-card",[o("md-toolbar",[o("h1",{staticClass:"md-title"},[e._v("Todos")]),e._v(" "),o("md-button",{staticClass:"md-icon-button"},[o("md-icon",[e._v("filter_list")])],1),e._v(" "),o("md-button",{staticClass:"md-icon-button"},[o("md-icon",[e._v("search")])],1)],1),e._v(" "),o("md-table",{attrs:{"md-sort":"name","md-sort-type":"desc"}},[o("md-table-header",[o("md-table-row",[o("md-table-head",{attrs:{"md-sort-by":"id","md-numeric":"","md-tooltip":"The id of the task."}},[e._v("ID")]),e._v(" "),o("md-table-head",{attrs:{"md-sort-by":"name","md-tooltip":"The name of the task."}},[e._v("Name")]),e._v(" "),o("md-table-head",{attrs:{"md-sort-by":"priority","md-numeric":"","md-tooltip":"The priority for task"}},[e._v("Priority")]),e._v(" "),o("md-table-head",{attrs:{"md-tooltip":"Task is done?"}},[e._v("Done")])],1)],1),e._v(" "),o("md-spinner",{directives:[{name:"show",rawName:"v-show",value:e.connecting,expression:"connecting"}],staticClass:"md-accent",attrs:{"md-size":20,"md-indeterminate":""}}),e._v(" "),o("md-table-body",e._l(e.todos,function(t,n){return o("md-table-row",{key:n},[o("md-table-cell",{attrs:{"md-numeric":""}},[e._v(e._s(n+1))]),e._v(" "),o("md-table-cell",[e._v(e._s(t.name))]),e._v(" "),o("md-table-cell",{attrs:{"md-numeric":""}},[e._v(e._s(t.priority))]),e._v(" "),o("md-table-cell",[o("md-switch",{staticClass:"md-primary",attrs:{id:"done",name:"done"},model:{value:t.done,callback:function(e){t.done=e},expression:"todo.done"}})],1),e._v(" "),o("md-table-cell",[o("md-button",{staticClass:"md-raised md-primary"},[o("md-icon",[e._v("edit")])],1),e._v(" "),o("md-button",{staticClass:"md-raised md-accent"},[o("md-icon",[e._v("delete")])],1)],1)],1)}))],1),e._v(" "),o("md-table-pagination",{attrs:{"md-size":e.perPage,"md-total":e.total,"md-page":e.page,"md-label":"Rows","md-separator":"of","md-page-options":[5,15,25,50]},on:{pagination:function(t){e.fetchPage(e.page)}}})],1),e._v(" "),o("md-snackbar",{ref:"connectionError",attrs:{"md-position":"bottom center","md-duration":"4000"}},[o("span",[e._v("Connection error. Please reconnect using connect button!.")])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("md-card",[o("md-card-header",[o("div",{staticClass:"md-title"},[e._v("Login")])]),e._v(" "),o("md-card-content",[o("md-button",{directives:[{name:"show",rawName:"v-show",value:!e.authorized,expression:"!authorized"}],staticClass:"md-raised md-primary",on:{click:e.login}},[e._v("Login")]),e._v(" "),o("md-button",{directives:[{name:"show",rawName:"v-show",value:e.authorized,expression:"authorized"}],staticClass:"md-raised md-primary",on:{click:e.initLogout}},[e._v("Logout")])],1),e._v(" "),o("md-dialog-confirm",{ref:"sureToLogout",attrs:{"md-title":"Logout","md-content":"Are you sure you want to logout?","md-ok-text":"Ok","md-cancel-text":"Cancel"},on:{close:e.onCloseSureToLogout}})],1)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.289418cc421d7978417d.js.map